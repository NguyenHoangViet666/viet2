<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Tool B∆°m Truy·ªán Nh·∫≠t (Light Novel)</title>
    <style>
        body { font-family: sans-serif; padding: 40px; max-width: 800px; margin: 0 auto; line-height: 1.6; background: #f0f2f5; }
        .container { background: white; padding: 30px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
        h1 { color: #1e293b; margin-bottom: 10px; }
        input { width: 100%; padding: 12px; border: 2px solid #ccc; border-radius: 6px; font-size: 1rem; margin-bottom: 20px; }
        button { padding: 15px 30px; font-size: 1.1rem; background: #eab308; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; width: 100%; transition: 0.2s; }
        button:hover { background: #ca8a04; }
        button:disabled { background: #ccc; cursor: not-allowed; }
        #logs { margin-top: 20px; background: #1e293b; color: #4ade80; padding: 20px; border-radius: 8px; height: 300px; overflow-y: auto; font-family: monospace; }
        .error { color: #ef4444; }
    </style>
</head>
<body>

    <div class="container">
        <h1>üáØüáµ Tool B∆°m 10 Light Novel Nh·∫≠t</h1>
        <p>Nh·∫≠p <b>UID c·ªßa Admin</b> (c·ªßa √¥ng) v√†o d∆∞·ªõi ƒë√¢y ƒë·ªÉ √¥ng c√≥ quy·ªÅn S·ª≠a/X√≥a truy·ªán sau khi t·∫°o.</p>
        
        <input type="text" id="admin-uid" placeholder="Paste UID c·ªßa Admin v√†o ƒë√¢y (V√≠ d·ª•: 7s8df6s8d...)" />
        
        <button id="btn-seed">üöÄ B·∫ÆT ƒê·∫¶U B∆†M TRUY·ªÜN</button>

        <div id="logs">Ch·ªù l·ªánh...</div>
    </div>

    <script type="module">
        import { db } from './js/firebase-config.js';
        import { collection, addDoc } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-firestore.js";

        // DANH S√ÅCH 10 TRUY·ªÜN NH·∫¨T (D·ªØ li·ªáu chu·∫©n)
        const JAPAN_NOVELS = [
            {
                title: "Overlord (Ch√∫a T·ªÉ B√≥ng T·ªëi)",
                author: "Maruyama Kugane",
                description: "C√¢u chuy·ªán v·ªÅ Momonga, m·ªôt game th·ªß b·ªã m·∫Øc k·∫πt trong nh√¢n v·∫≠t c·ªßa m√¨nh khi server game ƒë√≥ng c·ª≠a. Anh quy·∫øt ƒë·ªãnh chinh ph·ª•c th·∫ø gi·ªõi m·ªõi b·∫±ng s·ª©c m·∫°nh b√° ƒë·∫°o c·ªßa m√¨nh.",
                coverUrl: "https://upload.wikimedia.org/wikipedia/en/2/21/Overlord_volume_1_cover.jpg",
                genres: ["D·ªã Gi·ªõi", "H√†nh ƒê·ªông", "Dark Fantasy"],
                status: "ƒêang ra",
                length: "Truy·ªán d√†i"
            },
            {
                title: "Tensei Shitara Slime Datta Ken",
                author: "Fuse",
                description: "M·ªôt nh√¢n vi√™n vƒÉn ph√≤ng b·ªã s√°t h·∫°i v√† t√°i sinh ·ªü th·∫ø gi·ªõi kh√°c d∆∞·ªõi h√¨nh h√†i m·ªôt con Slime y·∫øu ·ªõt, nh∆∞ng l·∫°i s·ªü h·ªØu k·ªπ nƒÉng ƒë·ªôc nh·∫•t v√¥ nh·ªã.",
                coverUrl: "https://upload.wikimedia.org/wikipedia/en/3/34/That_Time_I_Got_Reincarnated_as_a_Slime_light_novel_volume_1_cover.jpg",
                genres: ["D·ªã Gi·ªõi", "Phi√™u L∆∞u", "H√†i H∆∞·ªõc"],
                status: "ƒêang ra",
                length: "Truy·ªán d√†i"
            },
            {
                title: "Sword Art Online",
                author: "Reki Kawahara",
                description: "NƒÉm 2022, game th·ªß Kirito b·ªã m·∫Øc k·∫πt trong m·ªôt tr√≤ ch∆°i th·ª±c t·∫ø ·∫£o t·ª≠ th·∫ßn. N·∫øu ch·∫øt trong game, anh c≈©ng s·∫Ω ch·∫øt ngo√†i ƒë·ªùi th·ª±c.",
                coverUrl: "https://upload.wikimedia.org/wikipedia/en/7/76/Sword_Art_Online_light_novel_volume_1_cover.jpg",
                genres: ["V√µng Du", "H√†nh ƒê·ªông", "L√£ng M·∫°n"],
                status: "ƒê√£ ho√†n th√†nh",
                length: "Truy·ªán d√†i"
            },
            {
                title: "No Game No Life",
                author: "Kamiya Yuu",
                description: "Hai anh em game th·ªß thi√™n t√†i Sora v√† Shiro ƒë∆∞·ª£c tri·ªáu h·ªìi ƒë·∫øn m·ªôt th·∫ø gi·ªõi n∆°i m·ªçi th·ª© ƒë·ªÅu ƒë∆∞·ª£c quy·∫øt ƒë·ªãnh b·∫±ng c√°c tr√≤ ch∆°i.",
                coverUrl: "https://upload.wikimedia.org/wikipedia/en/6/65/No_Game_No_Life_vol_01_cover.jpg",
                genres: ["D·ªã Gi·ªõi", "Tr√≠ Tu·ªá", "Fantasy"],
                status: "T·∫°m ng∆∞ng",
                length: "Truy·ªán d√†i"
            },
            {
                title: "Re:Zero - B·∫Øt ƒê·∫ßu L·∫°i ·ªû Th·∫ø Gi·ªõi Kh√°c",
                author: "Nagatsuki Tappei",
                description: "Subaru Natsuki b·ªã tri·ªáu h·ªìi ƒë·∫øn th·∫ø gi·ªõi kh√°c v√† ph√°t hi·ªán m√¨nh c√≥ kh·∫£ nƒÉng 'Return by Death' - quay ng∆∞·ª£c th·ªùi gian m·ªói khi ch·∫øt.",
                coverUrl: "https://upload.wikimedia.org/wikipedia/en/2/29/Re-Zero_kara_Hajimeru_Isekai_Seikatsu_light_novel_volume_1_cover.jpg",
                genres: ["D·ªã Gi·ªõi", "T√¢m L√Ω", "Kinh D·ªã"],
                status: "ƒêang ra",
                length: "Truy·ªán d√†i"
            },
            {
                title: "Classroom of the Elite",
                author: "Kinugasa Sh≈çgo",
                description: "Tr∆∞·ªùng Cao trung N√¢ng cao Tokyo, n∆°i ƒë√†o t·∫°o tinh hoa Nh·∫≠t B·∫£n. Ayanokouji Kiyotaka, m·ªôt thi√™n t√†i gi·∫•u ngh·ªÅ, nh·∫≠p h·ªçc v√†o l·ªõp D t·ªìi t·ªá nh·∫•t.",
                coverUrl: "https://upload.wikimedia.org/wikipedia/en/6/6f/Classroom_of_the_Elite_light_novel_volume_1_cover.jpg",
                genres: ["H·ªçc ƒê∆∞·ªùng", "T√¢m L√Ω", "ƒê·ªùi Th∆∞·ªùng"],
                status: "ƒêang ra",
                length: "Truy·ªán d√†i"
            },
            {
                title: "KonoSuba",
                author: "Akatsuki Natsume",
                description: "Kazuma Satou ch·∫øt m·ªôt c√°ch l√£ng x·∫πt v√† ƒë∆∞·ª£c n·ªØ th·∫ßn Aqua ƒë∆∞a ƒë·∫øn th·∫ø gi·ªõi kh√°c. Cu·ªôc h√†nh tr√¨nh h√†i h∆∞·ªõc c·ªßa t·ªï ƒë·ªôi v√¥ d·ª•ng b·∫Øt ƒë·∫ßu.",
                coverUrl: "https://upload.wikimedia.org/wikipedia/en/3/32/Konosuba_light_novel_volume_1_cover.jpg",
                genres: ["D·ªã Gi·ªõi", "H√†i H∆∞·ªõc", "Parody"],
                status: "ƒê√£ ho√†n th√†nh",
                length: "Truy·ªán d√†i"
            },
            {
                title: "Mushoku Tensei (Th·∫•t Nghi·ªáp Chuy·ªÉn Sinh)",
                author: "Rifujin na Magonote",
                description: "M·ªôt g√£ NEET 34 tu·ªïi b·ªã ƒëu·ªïi kh·ªèi nh√† v√† ch·∫øt do tai n·∫°n xe t·∫£i. H·∫Øn t√°i sinh th√†nh Rudeus Greyrat ·ªü th·∫ø gi·ªõi ph√©p thu·∫≠t v√† quy·∫øt t√¢m s·ªëng l·∫°i cu·ªôc ƒë·ªùi.",
                coverUrl: "https://upload.wikimedia.org/wikipedia/en/d/d7/Mushoku_Tensei_light_novel_volume_1_cover.jpg",
                genres: ["D·ªã Gi·ªõi", "Phi√™u L∆∞u", "Harem"],
                status: "ƒê√£ ho√†n th√†nh",
                length: "Truy·ªán d√†i"
            },
            {
                title: "86 - Eighty Six",
                author: "Asato Asato",
                description: "Cu·ªôc chi·∫øn gi·ªØa C·ªông h√≤a San Magnolia v√† ƒê·∫ø qu·ªëc Giadian. Nh·ªØng ng∆∞·ªùi l√≠nh thu·ªôc 'Khu 86' ph·∫£i chi·∫øn ƒë·∫•u trong nh·ªØng c·ªó m√°y kh√¥ng ng∆∞·ªùi l√°i.",
                coverUrl: "https://upload.wikimedia.org/wikipedia/en/5/51/86_-_Eighty_Six_light_novel_volume_1_cover.jpg",
                genres: ["Mecha", "Chi·∫øn Tranh", "Sci-Fi"],
                status: "ƒêang ra",
                length: "Truy·ªán d√†i"
            },
            {
                title: "Violet Evergarden",
                author: "Akatsuki Kana",
                description: "Violet, m·ªôt c·ª±u chi·∫øn binh, tr·ªü th√†nh 'B√∫p b√™ ghi ch√©p t·ª± ƒë·ªông' ƒë·ªÉ hi·ªÉu √Ω nghƒ©a c·ªßa c√¢u n√≥i 'T√¥i y√™u em' m√† ng∆∞·ªùi ch·ªâ huy ƒë√£ n√≥i v·ªõi c√¥.",
                coverUrl: "https://upload.wikimedia.org/wikipedia/en/8/86/Violet_Evergarden_vol_1.jpg",
                genres: ["ƒê·ªùi Th∆∞·ªùng", "L√£ng M·∫°n", "C·∫£m ƒê·ªông"],
                status: "ƒê√£ ho√†n th√†nh",
                length: "Truy·ªán ng·∫Øn"
            }
        ];

        const btn = document.getElementById('btn-seed');
        const logs = document.getElementById('logs');
        const uidInput = document.getElementById('admin-uid');

        function log(msg, type = 'info') {
            const div = document.createElement('div');
            div.innerText = `> ${msg}`;
            if (type === 'error') div.className = 'error';
            logs.appendChild(div);
            logs.scrollTop = logs.scrollHeight;
        }

        btn.addEventListener('click', async () => {
            const uid = uidInput.value.trim();
            if (!uid) {
                alert("Vui l√≤ng nh·∫≠p UID Admin c·ªßa √¥ng v√†o!");
                return;
            }

            btn.disabled = true;
            logs.innerHTML = '';
            log("ƒêang kh·ªüi ƒë·ªông m√°y b∆°m...");

            let count = 0;

            for (const novel of JAPAN_NOVELS) {
                try {
                    const novelData = {
                        ...novel,
                        type: "Truy·ªán D·ªãch", // C·ªë ƒë·ªãnh l√† truy·ªán d·ªãch
                        uploaderId: uid,     // G√°n quy·ªÅn s·ªü h·ªØu cho √¥ng
                        isPending: false,    // Duy·ªát lu√¥n
                        isFeatured: Math.random() < 0.5, // Random n·ªïi b·∫≠t 50%
                        viewCount: Math.floor(Math.random() * 10000) + 500, // Fake view
                        createdAt: new Date().toISOString()
                    };

                    await addDoc(collection(db, "novels"), novelData);
                    
                    log(`‚úÖ ƒê√£ b∆°m: ${novel.title}`, 'success');
                    count++;

                } catch (e) {
                    console.error(e);
                    log(`‚ùå L·ªói: ${e.message}`, 'error');
                }
            }

            log(`---------------------------------`);
            log(`üéâ HO√ÄN T·∫§T! ƒê√£ th√™m ${count} b·ªô truy·ªán Nh·∫≠t.`);
            log(`üëâ V√†o trang ch·ªß ki·ªÉm tra ngay!`);
            btn.disabled = false;
        });
    </script>
</body>
</html>